<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Boatman lights controller</title>
  </head>
  <body>
    <h1>Boatman light controller</h1>

    <form action="{% url 'lights:bmcomms' %}" method="post">
        {% csrf_token %}
        <fieldset>
            <legend><h1>Lights</h1></legend>
            {% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif %} {# Error feedback from Django tutorial, not currently used #}
            {% for light in light_list %}
                <input type="radio" name="light" id="light{{ forloop.counter }}" value="{{ light.id }}">
                <label for="light{{ forloop.counter }}">{{ light.name }}</label><br>
            {% endfor %}
            
            <input type="checkbox" id="reset" name="reset">
            <label for="reset">Reset other lights?</label><br>
            
            <input type="radio" name="duty" id="duty0" value="0">
            <label for="duty0">Duty 0</label><br>
            <input type="radio" name="duty" id="duty0" value="10">
            <label for="duty0">Duty 10</label><br>
        </fieldset>
        <input type="submit" value="Turn on">
        </form>

    <h2>Available lights</h2>
    {% if light_list %}
        <ul>
        {% for light in light_list %}
            <li><a href="{% url 'lights:light_detail' light.id %}">{{ light.name }}</a></li>
        {% endfor %}
        </ul>
    {% else %}
        <p>No lights are configured.</p>
    {% endif %}

    <h2>Available groups</h2>
    {% if group_list %}
    <ul>
    {% for group in group_list %}
        <li><a href="{% url 'lights:group_detail' group.id %}">{{ group.name }}</a></li>
    {% endfor %}
    </ul>
{% else %}
    <p>No groups are configured.</p>
{% endif %}

  </body>
</html>